# Double check, all plots should sum to 1
check <- Robert%>%
group_by(Block,Plot)%>%
summarize(checker = sum(IV))
#BobSpruce Data Analysis
#Ashley Carter
#Forest Management Lab
# Edits by Premer, M.I. 20230907
#loadindata
BobSpruce <- read.csv('~/Desktop/BobSpruce.csv')
#install.packages("elevatr")
library(elevatr)
library(rgdal)
library(sf)
shape <- read_sf(dsn = "~/Google Drive/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
dev.off()
rm(list=ls())
#install.packages("elevatr")
library(elevatr)
#install.packages("elevatr")
library(elevatr)
library(rgdal)
library(sf)
shape <- read_sf(dsn = "~/Google Drive/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
shape <- read_sf(dsn = "G:/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
plot(shape)
pie.ft <- get_elev_raster(shape,z=14,override_size_check = TRUE)
plot(pie.ft)
#install.packages("elevatr")
library(elevatr)
library(rgdal)
library(sf)
#install.packages("elevatr")
library(terra)
library(elevatr)
library(rgdal)
library(sf)
shape <- read_sf(dsn = "G:/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
plot(shape)
pie.ft <- get_elev_raster(shape,z=14,override_size_check = TRUE)
plot(pie.ft)
plot(shape,add=TRUE)
pie.ft
f <- drawExtent()
install.packages("basemaps")
library(basemaps)
pie.ft
f <- drawExtent()
f <- draw_ext()
install.packages("mapedit")
library(mapedit)
shape <- read_sf(dsn = "G:/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
plot(shape)
pie.ft <- get_elev_raster(shape,z=14,override_size_check = TRUE)
plot(pie.ft)
plot(shape,add=TRUE)
pie.ft
f <- draw_ext()
#install.packages("elevatr")
library(terra)
library(elevatr)
library(rgdal)
library(sf)
library(raster)
shape <- read_sf(dsn = "~/Google Drive/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
shape <- read_sf(dsn = "G:/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
plot(shape)
pie.ft <- get_elev_raster(shape,z=14,override_size_check = TRUE)
plot(pie.ft)
plot(shape,add=TRUE)
pie.ft
f <- drawExtent()
#install.packages("elevatr")
library(terra)
library(elevatr)
library(rgdal)
library(sf)
library(raster)
shape <- read_sf(dsn = "~/Google Drive/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
shape <- read_sf(dsn = "G:/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
plot(shape)
pie.ft <- get_elev_raster(shape,z=14,override_size_check = TRUE)
plot(pie.ft)
plot(shape,add=TRUE)
pie.ft
picea <- crop(pie.ft,f)
plot(picea)
plot(shape,add=TRUE)
getwd()
writeraster(picea,"~/Desktop/4PICEA_DEM.tif",overwrite=TRUE)
writeRaster(picea,"~/Desktop/4PICEA_DEM.tif",overwrite=TRUE)
writeRaster(picea,"C:/Users/ashley.lynn.carter/Documents/Desktop/4PICEA_DEM.tif",overwrite=TRUE)
writeRaster(picea,"C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif",overwrite=TRUE)
test <- raster("C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif")
plot(test)
demSt <- terrain(test,opt=c("slope","aspect","TPI","TRI","roughness","flowdir"),unit='degrees',neighbors=8)
plot(demSt)
#install.packages("elevatr")
library(terra)
library(elevatr)
library(rgdal)
library(sf)
library(raster)
shape <- read_sf(dsn = "~/Google Drive/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
shape <- read_sf(dsn = "G:/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
plot(shape)
pie.ft <- get_elev_raster(shape,z=14,override_size_check = TRUE)
plot(pie.ft)
plot(shape,add=TRUE)
pie.ft
picea <- crop(pie.ft,f)
plot(picea)
library(terra)
library(elevatr)
library(rgdal)
shape <- read_sf(dsn = "G:/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
plot(shape)
pie.ft <- get_elev_raster(shape,z=14,override_size_check = TRUE)
plot(pie.ft)
plot(shape,add=TRUE)
pie.ft
f <- drawExtent()
picea <- crop(pie.ft,f)
plot(picea)
plot(shape,add=TRUE)
library(terra)
library(elevatr)
library(rgdal)
shape <- read_sf(dsn = "G:/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
plot(shape)
pie.ft <- get_elev_raster(shape,z=14,override_size_check = TRUE)
plot(pie.ft)
plot(shape,add=TRUE)
getwd()
writeRaster(picea,"C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif",overwrite=TRUE)
test <- raster("C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif")
plot(test)
demSt <- terrain(test,opt=c("slope","aspect","TPI","TRI","roughness","flowdir"),unit='degrees',neighbors=8)
plot(demSt)
demSt
plot(demSt$slope)
plot(shape,add=TRUE)
library(topmodel)
bob <- create_layers(test)
plot(bob$twi)
library(topmodel)
bob <- create_layers(test)
library(MEForLab)
library(MEForLab)
bob <- create_layers(test)
plot(bob$twi)
plot(shape,add=TRUE)
picea.stack <- raster::stack(picea,demSt,bob)
plot(picea.stack)
#terra::writeRaster(picea.stack,"~/Desktop/picea_stack.tif",options="INTERLEAVE=BAND",overwrite=TRUE)
terra::writeRaster(picea.stack,"~C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif",options="INTERLEAVE=BAND",overwrite=TRUE)
ft <- raster::stack("~/Desktop/picea_stack.tif")
#terra::writeRaster(picea.stack,"~/Desktop/picea_stack.tif",options="INTERLEAVE=BAND",overwrite=TRUE)
terra::writeRaster(picea.stack,"C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif",options="INTERLEAVE=BAND",overwrite=TRUE)
plot(ft)
names(ft) <- c("elevation","tri","tpi","roughness","slope","aspect",
"flowdir","filled.elevations","upslope.area","twi")
ft <- raster::stack("C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif")
#install.packages("elevatr")
library(terra)
library(elevatr)
library(rgdal)
library(sf)
library(raster)
#shape <- read_sf(dsn = "~/Google Drive/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
shape <- read_sf(dsn = "G:/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
plot(shape)
pie.ft <- get_elev_raster(shape,z=14,override_size_check = TRUE)
plot(pie.ft)
plot(shape,add=TRUE)
pie.ft
picea <- crop(pie.ft)
f <- drawExtent()
picea <- crop(pie.ft,f)
plot(picea)
plot(shape,add=TRUE)
getwd()
writeRaster(picea,"C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif",overwrite=TRUE)
pie.ft
f <- drawExtent()
picea <- crop(pie.ft,f)
library(terra)
library(elevatr)
library(rgdal)
library(sf)
library(raster)
#shape <- read_sf(dsn = "~/Google Drive/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
shape <- read_sf(dsn = "G:/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
plot(shape)
pie.ft <- get_elev_raster(shape,z=14,override_size_check = TRUE)
plot(pie.ft)
plot(shape,add=TRUE)
pie.ft
f <- drawExtent()
picea <- crop(pie.ft,f)
plot(picea)
plot(shape,add=TRUE)
getwd()
writeRaster(picea,"C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif",overwrite=TRUE)
test <- raster("C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif")
plot(test)
demSt
plot(demSt$slope)
plot(shape,add=TRUE)
library(topmodel)
library(MEForLab)
bob <- create_layers(test)
library(terra)
library(elevatr)
#library(rgdal)
library(sf)
library(raster)
#shape <- read_sf(dsn = "~/Google Drive/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
shape <- read_sf(dsn = "G:/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
plot(shape)
pie.ft <- get_elev_raster(shape,z=14,override_size_check = TRUE)
plot(pie.ft)
plot(shape,add=TRUE)
pie.ft
f <- drawExtent()
pie.ft
f <- drawExtent()
pie.ft
f <- drawExtent()
pie.ft
f <- drawExtent()
#install.packages("elevatr")
library(terra)
library(elevatr)
#install.packages("elevatr")
#library(terra)
library(elevatr)
#library(rgdal)
library(sf)
#shape <- read_sf(dsn = "~/Google Drive/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
shape <- read_sf(dsn = "G:/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
plot(shape)
pie.ft <- get_elev_raster(shape,z=14,override_size_check = TRUE)
plot(pie.ft)
plot(shape,add=TRUE)
pie.ft
f <- drawExtent()
#install.packages("elevatr")
#library(terra)
library(elevatr)
#library(rgdal)
library(sf)
#install.packages("elevatr")
#library(terra)
library(elevatr)
#library(rgdal)
library(sf)
#shape <- read_sf(dsn = "~/Google Drive/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
shape <- read_sf(dsn = "G:/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
plot(shape)
pie.ft <- get_elev_raster(shape,z=14,override_size_check = TRUE)
plot(pie.ft)
plot(shape,add=TRUE)
pie.ft
f <- drawExtent()
picea <- crop(pie.ft,f)
plot(picea)
plot(shape,add=TRUE)
#install.packages("elevatr")
#library(terra)
library(elevatr)
#library(rgdal)
library(sf)
#shape <- read_sf(dsn = "~/Google Drive/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
shape <- read_sf(dsn = "G:/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
plot(shape)
pie.ft <- get_elev_raster(shape,z=14,override_size_check = TRUE)
plot(pie.ft)
plot(shape,add=TRUE)
picea <- crop(pie.ft,shape)
#install.packages("elevatr")
#library(terra)
library(elevatr)
#library(rgdal)
library(sf)
#shape <- read_sf(dsn = "~/Google Drive/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
shape <- read_sf(dsn = "G:/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
plot(shape)
pie.ft <- get_elev_raster(shape,z=14,override_size_check = TRUE)
plot(pie.ft)
plot(shape,add=TRUE)
picea <- crop(pie.ft,shape)
plot(picea)
plot(shape,add=TRUE)
getwd()
writeRaster(picea,"C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif",overwrite=TRUE)
test <- raster("C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif")
writeRaster(picea,"C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif",overwrite=TRUE)
#install.packages("elevatr")
library(terra)
writeRaster(picea,"C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif",overwrite=TRUE)
library(raster)
test <- raster("C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif")
#install.packages("elevatr")
library(terra)
test <- raster("C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif")
plot(test)
demSt <- terrain(test,opt=c("slope","aspect","TPI","TRI","roughness","flowdir"),unit='degrees',neighbors=8)
plot(demSt)
demSt
plot(demSt$slope)
plot(shape,add=TRUE)
library(topmodel)
library(MEForLab)
bob <- create_layers(test)
plot(bob$twi)
plot(shape,add=TRUE)
picea.stack <- raster::stack(picea,demSt,bob)
plot(picea.stack)
#install.packages("elevatr")
#library(terra)
#library(raster)
library(elevatr)
#library(rgdal)
library(sf)
#shape <- read_sf(dsn = "~/Google Drive/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
shape <- read_sf(dsn = "G:/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
plot(shape)
pie.ft <- get_elev_raster(shape,z=14,override_size_check = TRUE)
plot(pie.ft)
plot(shape,add=TRUE)
picea <- crop(pie.ft,shape)
plot(picea)
plot(shape,add=TRUE)
#install.packages("elevatr")
#library(terra)
#library(raster)
library(elevatr)
#library(rgdal)
library(sf)
#shape <- read_sf(dsn = "~/Google Drive/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
shape <- read_sf(dsn = "G:/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
plot(shape)
pie.ft <- get_elev_raster(shape,z=14,override_size_check = TRUE)
plot(pie.ft)
picea <- crop(pie.ft,shape)
#install.packages("elevatr")
library(terra)
#library(raster)
library(elevatr)
#library(rgdal)
library(sf)
#shape <- read_sf(dsn = "~/Google Drive/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
shape <- read_sf(dsn = "G:/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
plot(shape)
pie.ft <- get_elev_raster(shape,z=14,override_size_check = TRUE)
plot(pie.ft)
plot(shape,add=TRUE)
picea <- crop(pie.ft,shape)
plot(picea)
plot(shape,add=TRUE)
getwd()
#writeRaster(picea,"~/Google Drive/Shared Drives/4Picea/4Picea/gsp/",overwrite=TRUE)
writeRaster(picea,"C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif",overwrite=TRUE)
#test <- raster("~/Google Drive/Shared Drives/4Picea/4Picea/gsp/")
test <- raster("C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif")
library(raster)
#test <- raster("~/Google Drive/Shared Drives/4Picea/4Picea/gsp/")
test <- raster("C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif")
plot(test)
demSt <- terrain(test,opt=c("slope","aspect","TPI","TRI","roughness","flowdir"),unit='degrees',neighbors=8)
plot(demSt)
demSt
plot(demSt$slope)
plot(shape,add=TRUE)
library(topmodel)
library(MEForLab)
bob <- create_layers(test)
plot(bob$twi)
plot(shape,add=TRUE)
picea.stack <- raster::stack(picea,demSt,bob)
plot(picea.stack)
plot(shape, add=TRUE)
plot(picea.stack)
#terra::writeRaster(picea.stack,"~/Desktop/picea_stack.tif",options="INTERLEAVE=BAND",overwrite=TRUE)
terra::writeRaster(picea.stack,"C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif",options="INTERLEAVE=BAND",overwrite=TRUE)
ft <- raster::stack("C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif")
plot(ft)
names(ft) <- c("elevation","tri","tpi","roughness","slope","aspect",
"flowdir","filled.elevations","upslope.area","twi")
plot(ft)
plot(ft$aspect)
plot(shape,add=TRUE,col="darkred",lwd=5)
plot(picea.stack)
ft <- raster::stack("C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif")
#terra::writeRaster(picea.stack,"~/Desktop/picea_stack.tif",options="INTERLEAVE=BAND",overwrite=TRUE)
terra::writeRaster(picea.stack,"C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif",options="INTERLEAVE=BAND",overwrite=TRUE)
ft <- raster::stack("C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif")
#terra::writeRaster(picea.stack,"~/Desktop/picea_stack.tif",options="INTERLEAVE=BAND",overwrite=TRUE)
writeRaster(picea.stack,"C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif",options="INTERLEAVE=BAND",overwrite=TRUE)
ft <-raster::stack("C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif")
#terra::writeRaster(picea.stack,"~/Desktop/picea_stack.tif",options="INTERLEAVE=BAND",overwrite=TRUE)
teraa::writeRaster(picea.stack,"C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif",options="INTERLEAVE=BAND",overwrite=TRUE)
#terra::writeRaster(picea.stack,"~/Desktop/picea_stack.tif",options="INTERLEAVE=BAND",overwrite=TRUE)
terra::writeRaster(picea.stack,"C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif",options="INTERLEAVE=BAND",overwrite=TRUE)
ft <-raster::stack("C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif")
plot(ft)
names(ft) <- c("elevation","tri","tpi","roughness","slope","aspect",
"flowdir","filled.elevations","upslope.area","twi")
#install.packages("elevatr")
library(terra)
library(raster)
library(elevatr)
#library(rgdal)
library(sf)
#shape <- read_sf(dsn = "~/Google Drive/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
shape <- read_sf(dsn = "G:/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
plot(shape)
pie.ft <- get_elev_raster(shape,z=14,override_size_check = TRUE)
plot(pie.ft)
plot(shape,add=TRUE)
picea <- crop(pie.ft,shape)
plot(picea)
plot(shape,add=TRUE)
getwd()
#writeRaster(picea,"~/Google Drive/Shared Drives/4Picea/4Picea/gsp/",overwrite=TRUE)
writeRaster(picea,"C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif",overwrite=TRUE)
#test <- raster("~/Google Drive/Shared Drives/4Picea/4Picea/gsp/")
test <- raster("C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif")
#install.packages("elevatr")
library(terra)
library(raster)
library(elevatr)
#library(rgdal)
library(sf)
#shape <- read_sf(dsn = "~/Google Drive/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
shape <- read_sf(dsn = "G:/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
plot(shape)
pie.ft <- get_elev_raster(shape,z=14,override_size_check = TRUE)
plot(pie.ft)
plot(shape,add=TRUE)
picea <- crop(pie.ft,shape)
plot(picea)
plot(shape,add=TRUE)
getwd()
#writeRaster(picea,"~/Google Drive/Shared Drives/4Picea/4Picea/gsp/",overwrite=TRUE)
writeRaster(picea,"C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif",overwrite=TRUE)
#test <- raster("~/Google Drive/Shared Drives/4Picea/4Picea/gsp/")
test <- raster("C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif")
plot(test)
demSt <- terrain(test,opt=c("slope","aspect","TPI","TRI","roughness","flowdir"),unit='degrees',neighbors=8)
plot(demSt)
demSt
plot(demSt$slope)
plot(shape,add=TRUE)
library(topmodel)
library(MEForLab)
bob <- create_layers(test)
plot(bob$twi)
plot(shape,add=TRUE)
picea.stack <- raster::stack(picea,demSt,bob)
plot(picea.stack)
#terra::writeRaster(picea.stack,"~/Desktop/picea_stack.tif",options="INTERLEAVE=BAND",overwrite=TRUE)
terra::writeRaster(picea.stack,"C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif",options="INTERLEAVE=BAND",overwrite=TRUE)
ft <-raster::stack("C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif")
library(minpack.lm)
#install.packages("elevatr")
library(terra)
library(raster)
library(elevatr)
#library(rgdal)
library(sf)
#shape <- read_sf(dsn = "~/Google Drive/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
shape <- read_sf(dsn = "G:/Shared Drives/4Picea/4Picea/gsp/", layer = "Spruce_plantation")
plot(shape)
pie.ft <- get_elev_raster(shape,z=14,override_size_check = TRUE)
plot(pie.ft)
plot(shape,add=TRUE)
picea <- crop(pie.ft,shape)
plot(picea)
plot(shape,add=TRUE)
getwd()
#writeRaster(picea,"~/Google Drive/Shared Drives/4Picea/4Picea/gsp/",overwrite=TRUE)
writeRaster(picea,"C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif",overwrite=TRUE)
#test <- raster("~/Google Drive/Shared Drives/4Picea/4Picea/gsp/")
test <- raster("C:/Users/ashley.lynn.carter/Documents/4PICEA_DEM.tif")
